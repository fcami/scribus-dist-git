commit bc55f2b3d31111a4c95372b6ad1ae139d29f3076
Author: jghali <jghali@11d20701-8431-0410-a711-e3c959e3b870>
Date:   Mon Apr 26 21:31:23 2010 +0000

    some fixes for building with podofo 0.8.0
    
    git-svn-id: svn://scribus.info/Scribus/branches/Version135@15016 11d20701-8431-0410-a711-e3c959e3b870

diff --git a/Scribus/scribus/pdflib_core.cpp b/Scribus/scribus/pdflib_core.cpp
index bc25070..cbf637c 100644
--- a/Scribus/scribus/pdflib_core.cpp
+++ b/Scribus/scribus/pdflib_core.cpp
@@ -6364,7 +6364,9 @@ bool PDFLibCore::PDF_EmbeddedPDF(PageItem* c, const QString& fn, double sx, doub
 			}
 			*/
 			char * mbuffer = NULL;
-#if defined(pdf_long)
+#if (PODOFO_MAJOR == 0 && PODOFO_MINOR >= 8)
+			PoDoFo::pdf_long mlen = 0;
+#elif defined(pdf_long)
 			pdf_long mlen = 0;
 #else
 			long mlen = 0;
@@ -6631,7 +6633,9 @@ void PDFLibCore::copyPoDoFoObject(const PoDoFo::PdfObject* obj, uint scObjID, QM
 	if (obj->HasStream())
 	{
 		char * mbuffer = NULL;
-#if defined(pdf_long)
+#if (PODOFO_MAJOR == 0 && PODOFO_MINOR >= 8)
+			PoDoFo::pdf_long mlen = 0;
+#elif defined(pdf_long)
 			pdf_long mlen = 0;
 #else
 			long mlen = 0;
diff --git a/Scribus/scribus/plugins/import/ai/importai.cpp b/Scribus/scribus/plugins/import/ai/importai.cpp
index 287f508..482962f 100644
--- a/Scribus/scribus/plugins/aiimplugin/importai.cpp
+++ b/Scribus/scribus/plugins/aiimplugin/importai.cpp
@@ -413,7 +413,9 @@ bool AIPlug::extractFromPDF(QString infile, QString outfile)
 							data = priv->GetIndirectKey(PoDoFo::PdfName(Key.toUtf8().data()));
 							PoDoFo::PdfStream const *stream = data->GetStream();
 							char *Buffer;
-#if defined(pdf_long)
+#if (PODOFO_MAJOR == 0 && PODOFO_MINOR >= 8)
+							PoDoFo::pdf_long bLen = 0;
+#elif defined(pdf_long)
 							pdf_long bLen = 0;
 #else
 							long bLen = 0;
@@ -432,7 +434,9 @@ bool AIPlug::extractFromPDF(QString infile, QString outfile)
 									break;
 								PoDoFo::PdfStream const *stream = data->GetStream();
 								char *Buffer;
-#if defined(pdf_long)
+#if (PODOFO_MAJOR == 0 && PODOFO_MINOR >= 8)
+								PoDoFo::pdf_long bLen = 0;
+#elif defined(pdf_long)
 								pdf_long bLen = 0;
 #else
 								long bLen = 0;
